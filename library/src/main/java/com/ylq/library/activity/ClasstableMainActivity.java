package com.ylq.library.activity;

import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.KeyEvent;

import com.ylq.library.ClasstableNotification;
import com.ylq.library.R;
import com.ylq.library.model.AllClasses;
import com.ylq.library.util.Store;
import com.ylq.library.viewHolder.ClassPageHolder;
import com.ylq.library.viewHolder.WBY_HubLoginPageHolder;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;


public class ClasstableMainActivity extends ClasstableBaseActivity {


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.classtable_page_container);
        fitSystemWindow();
       // fake();
        if(Store.isNotification(this))
            ClasstableNotification.start(this);
        if(!Store.isLocalHaveData(this))
            holderIn(new WBY_HubLoginPageHolder(this));
        else {
            AllClasses allClasses = Store.getLocalData(this);
            if(allClasses == null)
                holderIn(new WBY_HubLoginPageHolder(this));
            else
                holderIn(new ClassPageHolder(this,allClasses));
        }
    }

    /**
     * hub系统会崩溃，就用这个方法设置一些测试数据
     */
    private void fake() {
        SharedPreferences sharedPreferences = getSharedPreferences(Store.SH_NAME,MODE_PRIVATE);
        SharedPreferences.Editor editor = sharedPreferences.edit();
        editor.putString("add_by_myself_data",null);
        editor.putBoolean("save_success",true);
        editor.putString("saved_class_table","[{\"season\":\"summer\",\"date1\":\"8.29\",\"date2\":\"8.30\",\"date3\":\"8.31\",\"date4\":\"9.1\",\"date5\":\"9.2\",\"date6\":\"9.3\",\"date7\":\"9.4\",\"array\":[{\"year\":2016,\"month\":8,\"day\":29,\"week\":1,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":1,\"color\":0,\"month\":8,\"day\":29}]},{\"year\":2016,\"month\":8,\"day\":30,\"week\":2,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":2,\"color\":0,\"month\":8,\"day\":30}]},{\"year\":2016,\"month\":8,\"day\":31,\"week\":3,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":3,\"color\":0,\"month\":8,\"day\":31}]},{\"year\":2016,\"month\":9,\"day\":1,\"week\":4,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":4,\"color\":0,\"month\":9,\"day\":1}]},{\"year\":2016,\"month\":9,\"day\":2,\"week\":5,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":5,\"color\":0,\"month\":9,\"day\":2}]}]},{\"season\":\"summer\",\"date1\":\"9.5\",\"date2\":\"9.6\",\"date3\":\"9.7\",\"date4\":\"9.8\",\"date5\":\"9.9\",\"date6\":\"9.10\",\"date7\":\"9.11\",\"array\":[{\"year\":2016,\"month\":9,\"day\":5,\"week\":1,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":1,\"color\":0,\"month\":9,\"day\":5}]},{\"year\":2016,\"month\":9,\"day\":6,\"week\":2,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":2,\"color\":0,\"month\":9,\"day\":6}]},{\"year\":2016,\"month\":9,\"day\":7,\"week\":3,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":3,\"color\":0,\"month\":9,\"day\":7}]},{\"year\":2016,\"month\":9,\"day\":8,\"week\":4,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":4,\"color\":0,\"month\":9,\"day\":8}]},{\"year\":2016,\"month\":9,\"day\":9,\"week\":5,\"array\":[{\"class_name\":\"数字电路与逻辑课程设计\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":8,\"week\":5,\"color\":0,\"month\":9,\"day\":9}]}]},{\"season\":\"summer\",\"date1\":\"9.12\",\"date2\":\"9.13\",\"date3\":\"9.14\",\"date4\":\"9.15\",\"date5\":\"9.16\",\"date6\":\"9.17\",\"date7\":\"9.18\",\"array\":[{\"year\":2016,\"month\":9,\"day\":12,\"week\":1,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":1,\"color\":1,\"month\":9,\"day\":12},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":9,\"day\":12},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":1,\"color\":3,\"month\":9,\"day\":12}]},{\"year\":2016,\"month\":9,\"day\":13,\"week\":2,\"array\":[{\"class_name\":\"社会网络与计算\",\"class_address\":\"西十二楼N411\",\"from\":9,\"times\":2,\"week\":2,\"color\":4,\"month\":9,\"day\":13},{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":9,\"day\":13}]},{\"year\":2016,\"month\":9,\"day\":14,\"week\":3,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":3,\"color\":1,\"month\":9,\"day\":14},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":9,\"day\":14},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":3,\"color\":3,\"month\":9,\"day\":14}]},{\"year\":2016,\"month\":9,\"day\":16,\"week\":5,\"array\":[{\"class_name\":\"面向对象程序设计\",\"class_address\":\"南一楼803_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":3,\"month\":9,\"day\":16}]}]},{\"season\":\"summer\",\"date1\":\"9.19\",\"date2\":\"9.20\",\"date3\":\"9.21\",\"date4\":\"9.22\",\"date5\":\"9.23\",\"date6\":\"9.24\",\"date7\":\"9.25\",\"array\":[{\"year\":2016,\"month\":9,\"day\":19,\"week\":1,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":1,\"color\":1,\"month\":9,\"day\":19},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":9,\"day\":19},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":1,\"color\":3,\"month\":9,\"day\":19}]},{\"year\":2016,\"month\":9,\"day\":20,\"week\":2,\"array\":[{\"class_name\":\"社会网络与计算\",\"class_address\":\"西十二楼N411\",\"from\":9,\"times\":2,\"week\":2,\"color\":4,\"month\":9,\"day\":20},{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":9,\"day\":20}]},{\"year\":2016,\"month\":9,\"day\":21,\"week\":3,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":3,\"color\":1,\"month\":9,\"day\":21},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":9,\"day\":21},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":3,\"color\":3,\"month\":9,\"day\":21}]},{\"year\":2016,\"month\":9,\"day\":22,\"week\":4,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":9,\"day\":22}]},{\"year\":2016,\"month\":9,\"day\":23,\"week\":5,\"array\":[{\"class_name\":\"面向对象程序设计\",\"class_address\":\"南一楼803_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":3,\"month\":9,\"day\":23}]}]},{\"season\":\"summer\",\"date1\":\"9.26\",\"date2\":\"9.27\",\"date3\":\"9.28\",\"date4\":\"9.29\",\"date5\":\"9.30\",\"date6\":\"10.1\",\"date7\":\"10.2\",\"array\":[{\"year\":2016,\"month\":9,\"day\":26,\"week\":1,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":1,\"color\":1,\"month\":9,\"day\":26},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":9,\"day\":26},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":1,\"color\":3,\"month\":9,\"day\":26}]},{\"year\":2016,\"month\":9,\"day\":27,\"week\":2,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":9,\"day\":27},{\"class_name\":\"社会网络与计算\",\"class_address\":\"西十二楼N411\",\"from\":9,\"times\":2,\"week\":2,\"color\":4,\"month\":9,\"day\":27},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":9,\"day\":27}]},{\"year\":2016,\"month\":9,\"day\":28,\"week\":3,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":3,\"color\":1,\"month\":9,\"day\":28},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":9,\"day\":28},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":3,\"color\":3,\"month\":9,\"day\":28}]},{\"year\":2016,\"month\":9,\"day\":29,\"week\":4,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":9,\"day\":29},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":9,\"day\":29}]},{\"year\":2016,\"month\":9,\"day\":30,\"week\":5,\"array\":[{\"class_name\":\"面向对象程序设计\",\"class_address\":\"南一楼803_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":3,\"month\":9,\"day\":30}]}]},{\"season\":\"winter\",\"date1\":\"10.3\",\"date2\":\"10.4\",\"date3\":\"10.5\",\"date4\":\"10.6\",\"date5\":\"10.7\",\"date6\":\"10.8\",\"date7\":\"10.9\",\"array\":[{\"year\":2016,\"month\":10,\"day\":4,\"week\":2,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":10,\"day\":4},{\"class_name\":\"社会网络与计算\",\"class_address\":\"西十二楼N411\",\"from\":9,\"times\":2,\"week\":2,\"color\":4,\"month\":10,\"day\":4},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":10,\"day\":4}]},{\"year\":2016,\"month\":10,\"day\":5,\"week\":3,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":3,\"color\":1,\"month\":10,\"day\":5},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":10,\"day\":5},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":3,\"color\":3,\"month\":10,\"day\":5}]},{\"year\":2016,\"month\":10,\"day\":6,\"week\":4,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":10,\"day\":6},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":10,\"day\":6}]},{\"year\":2016,\"month\":10,\"day\":7,\"week\":5,\"array\":[{\"class_name\":\"面向对象程序设计\",\"class_address\":\"南一楼803_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":3,\"month\":10,\"day\":7}]}]},{\"season\":\"winter\",\"date1\":\"10.10\",\"date2\":\"10.11\",\"date3\":\"10.12\",\"date4\":\"10.13\",\"date5\":\"10.14\",\"date6\":\"10.15\",\"date7\":\"10.16\",\"array\":[{\"year\":2016,\"month\":10,\"day\":10,\"week\":1,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":1,\"color\":1,\"month\":10,\"day\":10},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":10,\"day\":10},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":1,\"color\":3,\"month\":10,\"day\":10}]},{\"year\":2016,\"month\":10,\"day\":11,\"week\":2,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":10,\"day\":11},{\"class_name\":\"社会网络与计算\",\"class_address\":\"西十二楼N411\",\"from\":9,\"times\":2,\"week\":2,\"color\":4,\"month\":10,\"day\":11},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":10,\"day\":11},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":10,\"day\":11}]},{\"year\":2016,\"month\":10,\"day\":12,\"week\":3,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":3,\"color\":1,\"month\":10,\"day\":12},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":10,\"day\":12},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":3,\"color\":3,\"month\":10,\"day\":12}]},{\"year\":2016,\"month\":10,\"day\":13,\"week\":4,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":10,\"day\":13},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":10,\"day\":13},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":10,\"day\":13}]},{\"year\":2016,\"month\":10,\"day\":14,\"week\":5,\"array\":[{\"class_name\":\"面向对象程序设计\",\"class_address\":\"南一楼803_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":3,\"month\":10,\"day\":14}]},{\"year\":2016,\"month\":10,\"day\":15,\"week\":6,\"array\":[{\"class_name\":\"社会网络与计算\",\"class_address\":\"西五楼219\",\"from\":3,\"times\":2,\"week\":6,\"color\":4,\"month\":10,\"day\":15}]}]},{\"season\":\"winter\",\"date1\":\"10.17\",\"date2\":\"10.18\",\"date3\":\"10.19\",\"date4\":\"10.20\",\"date5\":\"10.21\",\"date6\":\"10.22\",\"date7\":\"10.23\",\"array\":[{\"year\":2016,\"month\":10,\"day\":17,\"week\":1,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":1,\"color\":1,\"month\":10,\"day\":17},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":10,\"day\":17},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":1,\"color\":3,\"month\":10,\"day\":17}]},{\"year\":2016,\"month\":10,\"day\":18,\"week\":2,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":10,\"day\":18},{\"class_name\":\"社会网络与计算\",\"class_address\":\"西十二楼N411\",\"from\":9,\"times\":2,\"week\":2,\"color\":4,\"month\":10,\"day\":18},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":10,\"day\":18},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":10,\"day\":18}]},{\"year\":2016,\"month\":10,\"day\":19,\"week\":3,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":3,\"color\":1,\"month\":10,\"day\":19},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":10,\"day\":19},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":3,\"color\":3,\"month\":10,\"day\":19}]},{\"year\":2016,\"month\":10,\"day\":20,\"week\":4,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":10,\"day\":20},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":10,\"day\":20},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":10,\"day\":20}]},{\"year\":2016,\"month\":10,\"day\":21,\"week\":5,\"array\":[{\"class_name\":\"面向对象程序设计\",\"class_address\":\"南一楼803_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":3,\"month\":10,\"day\":21}]},{\"year\":2016,\"month\":10,\"day\":22,\"week\":6,\"array\":[{\"class_name\":\"社会网络与计算\",\"class_address\":\"西五楼219\",\"from\":3,\"times\":2,\"week\":6,\"color\":4,\"month\":10,\"day\":22}]}]},{\"season\":\"winter\",\"date1\":\"10.24\",\"date2\":\"10.25\",\"date3\":\"10.26\",\"date4\":\"10.27\",\"date5\":\"10.28\",\"date6\":\"10.29\",\"date7\":\"10.30\",\"array\":[{\"year\":2016,\"month\":10,\"day\":24,\"week\":1,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":1,\"color\":1,\"month\":10,\"day\":24},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":10,\"day\":24},{\"class_name\":\"面向对象程序设计\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":1,\"color\":3,\"month\":10,\"day\":24}]},{\"year\":2016,\"month\":10,\"day\":25,\"week\":2,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":10,\"day\":25},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":10,\"day\":25},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":10,\"day\":25}]},{\"year\":2016,\"month\":10,\"day\":26,\"week\":3,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":10,\"day\":26},{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":3,\"color\":1,\"month\":10,\"day\":26}]},{\"year\":2016,\"month\":10,\"day\":27,\"week\":4,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":10,\"day\":27},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":10,\"day\":27},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":10,\"day\":27}]},{\"year\":2016,\"month\":10,\"day\":28,\"week\":5,\"array\":[{\"class_name\":\"编译原理实践\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":8,\"month\":10,\"day\":28}]},{\"year\":2016,\"month\":10,\"day\":29,\"week\":6,\"array\":[{\"class_name\":\"社会网络与计算\",\"class_address\":\"西五楼219\",\"from\":3,\"times\":2,\"week\":6,\"color\":4,\"month\":10,\"day\":29}]}]},{\"season\":\"winter\",\"date1\":\"10.31\",\"date2\":\"11.1\",\"date3\":\"11.2\",\"date4\":\"11.3\",\"date5\":\"11.4\",\"date6\":\"11.5\",\"date7\":\"11.6\",\"array\":[{\"year\":2016,\"month\":10,\"day\":31,\"week\":1,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":10,\"day\":31},{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":1,\"color\":1,\"month\":10,\"day\":31}]},{\"year\":2016,\"month\":11,\"day\":1,\"week\":2,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":11,\"day\":1},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":11,\"day\":1},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":11,\"day\":1}]},{\"year\":2016,\"month\":11,\"day\":2,\"week\":3,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":11,\"day\":2},{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":3,\"color\":1,\"month\":11,\"day\":2}]},{\"year\":2016,\"month\":11,\"day\":3,\"week\":4,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":11,\"day\":3},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":11,\"day\":3},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":11,\"day\":3}]},{\"year\":2016,\"month\":11,\"day\":4,\"week\":5,\"array\":[{\"class_name\":\"编译原理实践\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":8,\"month\":11,\"day\":4}]},{\"year\":2016,\"month\":11,\"day\":5,\"week\":6,\"array\":[{\"class_name\":\"社会网络与计算\",\"class_address\":\"西五楼219\",\"from\":3,\"times\":2,\"week\":6,\"color\":4,\"month\":11,\"day\":5}]}]},{\"season\":\"winter\",\"date1\":\"11.7\",\"date2\":\"11.8\",\"date3\":\"11.9\",\"date4\":\"11.10\",\"date5\":\"11.11\",\"date6\":\"11.12\",\"date7\":\"11.13\",\"array\":[{\"year\":2016,\"month\":11,\"day\":7,\"week\":1,\"array\":[{\"class_name\":\"数值分析\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":1,\"color\":1,\"month\":11,\"day\":7},{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":11,\"day\":7},{\"class_name\":\"算法设计与分析\",\"class_address\":\"南一楼807_1\",\"from\":5,\"times\":4,\"week\":1,\"color\":5,\"month\":11,\"day\":7}]},{\"year\":2016,\"month\":11,\"day\":8,\"week\":2,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":11,\"day\":8},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":11,\"day\":8},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":11,\"day\":8}]},{\"year\":2016,\"month\":11,\"day\":9,\"week\":3,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":11,\"day\":9}]},{\"year\":2016,\"month\":11,\"day\":10,\"week\":4,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":11,\"day\":10},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":11,\"day\":10},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":11,\"day\":10}]},{\"year\":2016,\"month\":11,\"day\":11,\"week\":5,\"array\":[{\"class_name\":\"编译原理实践\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":8,\"month\":11,\"day\":11}]},{\"year\":2016,\"month\":11,\"day\":12,\"week\":6,\"array\":[{\"class_name\":\"社会网络与计算\",\"class_address\":\"西五楼219\",\"from\":3,\"times\":2,\"week\":6,\"color\":4,\"month\":11,\"day\":12}]}]},{\"season\":\"winter\",\"date1\":\"11.14\",\"date2\":\"11.15\",\"date3\":\"11.16\",\"date4\":\"11.17\",\"date5\":\"11.18\",\"date6\":\"11.19\",\"date7\":\"11.20\",\"array\":[{\"year\":2016,\"month\":11,\"day\":14,\"week\":1,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":11,\"day\":14},{\"class_name\":\"算法设计与分析\",\"class_address\":\"南一楼807_1\",\"from\":5,\"times\":4,\"week\":1,\"color\":5,\"month\":11,\"day\":14}]},{\"year\":2016,\"month\":11,\"day\":15,\"week\":2,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":2,\"color\":5,\"month\":11,\"day\":15},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":11,\"day\":15},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":11,\"day\":15}]},{\"year\":2016,\"month\":11,\"day\":16,\"week\":3,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":11,\"day\":16}]},{\"year\":2016,\"month\":11,\"day\":17,\"week\":4,\"array\":[{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":11,\"day\":17},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":11,\"day\":17},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":11,\"day\":17}]},{\"year\":2016,\"month\":11,\"day\":18,\"week\":5,\"array\":[{\"class_name\":\"编译原理实践\",\"class_address\":\"南一楼807_1\",\"from\":1,\"times\":4,\"week\":5,\"color\":8,\"month\":11,\"day\":18}]},{\"year\":2016,\"month\":11,\"day\":19,\"week\":6,\"array\":[{\"class_name\":\"计算机组成原理实验\",\"class_address\":\"南一楼803_1\",\"from\":5,\"times\":4,\"week\":6,\"color\":9,\"month\":11,\"day\":19},{\"class_name\":\"社会网络与计算\",\"class_address\":\"西五楼219\",\"from\":3,\"times\":2,\"week\":6,\"color\":4,\"month\":11,\"day\":19}]}]},{\"season\":\"winter\",\"date1\":\"11.21\",\"date2\":\"11.22\",\"date3\":\"11.23\",\"date4\":\"11.24\",\"date5\":\"11.25\",\"date6\":\"11.26\",\"date7\":\"11.27\",\"array\":[{\"year\":2016,\"month\":11,\"day\":21,\"week\":1,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":11,\"day\":21}]},{\"year\":2016,\"month\":11,\"day\":22,\"week\":2,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":11,\"day\":22},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":11,\"day\":22}]},{\"year\":2016,\"month\":11,\"day\":23,\"week\":3,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":11,\"day\":23}]},{\"year\":2016,\"month\":11,\"day\":24,\"week\":4,\"array\":[{\"class_name\":\"操作系统原理实验\",\"class_address\":\"南一楼803_1\",\"from\":9,\"times\":4,\"week\":4,\"color\":0,\"month\":11,\"day\":24},{\"class_name\":\"算法设计与分析\",\"class_address\":\"西十二楼N411\",\"from\":7,\"times\":2,\"week\":4,\"color\":5,\"month\":11,\"day\":24},{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":11,\"day\":24},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":11,\"day\":24}]},{\"year\":2016,\"month\":11,\"day\":26,\"week\":6,\"array\":[{\"class_name\":\"计算机组成原理实验\",\"class_address\":\"南一楼803_1\",\"from\":5,\"times\":4,\"week\":6,\"color\":9,\"month\":11,\"day\":26}]}]},{\"season\":\"winter\",\"date1\":\"11.28\",\"date2\":\"11.29\",\"date3\":\"11.30\",\"date4\":\"12.1\",\"date5\":\"12.2\",\"date6\":\"12.3\",\"date7\":\"12.4\",\"array\":[{\"year\":2016,\"month\":11,\"day\":28,\"week\":1,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":11,\"day\":28}]},{\"year\":2016,\"month\":11,\"day\":29,\"week\":2,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":11,\"day\":29},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":11,\"day\":29}]},{\"year\":2016,\"month\":11,\"day\":30,\"week\":3,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":3,\"color\":2,\"month\":11,\"day\":30}]},{\"year\":2016,\"month\":12,\"day\":1,\"week\":4,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":12,\"day\":1},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":12,\"day\":1},{\"class_name\":\"操作系统原理实验\",\"class_address\":\"南一楼803_1\",\"from\":9,\"times\":4,\"week\":4,\"color\":0,\"month\":12,\"day\":1}]}]},{\"season\":\"winter\",\"date1\":\"12.5\",\"date2\":\"12.6\",\"date3\":\"12.7\",\"date4\":\"12.8\",\"date5\":\"12.9\",\"date6\":\"12.10\",\"date7\":\"12.11\",\"array\":[{\"year\":2016,\"month\":12,\"day\":5,\"week\":1,\"array\":[{\"class_name\":\"编译原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":1,\"color\":2,\"month\":12,\"day\":5}]},{\"year\":2016,\"month\":12,\"day\":6,\"week\":2,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":12,\"day\":6},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":12,\"day\":6}]},{\"year\":2016,\"month\":12,\"day\":7,\"week\":3,\"array\":[{\"class_name\":\"编译原理实践\",\"class_address\":\"南一楼807_1\",\"from\":5,\"times\":4,\"week\":3,\"color\":8,\"month\":12,\"day\":7}]},{\"year\":2016,\"month\":12,\"day\":8,\"week\":4,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":12,\"day\":8},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":12,\"day\":8}]}]},{\"season\":\"winter\",\"date1\":\"12.12\",\"date2\":\"12.13\",\"date3\":\"12.14\",\"date4\":\"12.15\",\"date5\":\"12.16\",\"date6\":\"12.17\",\"date7\":\"12.18\",\"array\":[{\"year\":2016,\"month\":12,\"day\":13,\"week\":2,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":12,\"day\":13},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":12,\"day\":13}]},{\"year\":2016,\"month\":12,\"day\":14,\"week\":3,\"array\":[{\"class_name\":\"编译原理实践\",\"class_address\":\"南一楼807_1\",\"from\":5,\"times\":4,\"week\":3,\"color\":8,\"month\":12,\"day\":14}]},{\"year\":2016,\"month\":12,\"day\":15,\"week\":4,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":12,\"day\":15},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":12,\"day\":15}]}]},{\"season\":\"winter\",\"date1\":\"12.19\",\"date2\":\"12.20\",\"date3\":\"12.21\",\"date4\":\"12.22\",\"date5\":\"12.23\",\"date6\":\"12.24\",\"date7\":\"12.25\",\"array\":[{\"year\":2016,\"month\":12,\"day\":20,\"week\":2,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":12,\"day\":20},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":12,\"day\":20}]},{\"year\":2016,\"month\":12,\"day\":21,\"week\":3,\"array\":[{\"class_name\":\"编译原理实践\",\"class_address\":\"南一楼807_1\",\"from\":5,\"times\":4,\"week\":3,\"color\":8,\"month\":12,\"day\":21}]},{\"year\":2016,\"month\":12,\"day\":22,\"week\":4,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":12,\"day\":22},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":12,\"day\":22},{\"class_name\":\"操作系统原理实验\",\"class_address\":\"南一楼803_1\",\"from\":9,\"times\":4,\"week\":4,\"color\":0,\"month\":12,\"day\":22}]},{\"year\":2016,\"month\":12,\"day\":24,\"week\":6,\"array\":[{\"class_name\":\"计算机组成原理实验\",\"class_address\":\"南一楼803_1\",\"from\":5,\"times\":4,\"week\":6,\"color\":9,\"month\":12,\"day\":24}]}]},{\"season\":\"winter\",\"date1\":\"12.26\",\"date2\":\"12.27\",\"date3\":\"12.28\",\"date4\":\"12.29\",\"date5\":\"12.30\",\"date6\":\"12.31\",\"date7\":\"1.1\",\"array\":[{\"year\":2016,\"month\":12,\"day\":27,\"week\":2,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":3,\"times\":2,\"week\":2,\"color\":6,\"month\":12,\"day\":27},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":2,\"color\":7,\"month\":12,\"day\":27}]},{\"year\":2016,\"month\":12,\"day\":28,\"week\":3,\"array\":[{\"class_name\":\"编译原理实践\",\"class_address\":\"南一楼807_1\",\"from\":5,\"times\":4,\"week\":3,\"color\":8,\"month\":12,\"day\":28}]},{\"year\":2016,\"month\":12,\"day\":29,\"week\":4,\"array\":[{\"class_name\":\"操作系统原理\",\"class_address\":\"西十二楼N411\",\"from\":5,\"times\":2,\"week\":4,\"color\":6,\"month\":12,\"day\":29},{\"class_name\":\"计算机组成原理\",\"class_address\":\"西十二楼N411\",\"from\":1,\"times\":2,\"week\":4,\"color\":7,\"month\":12,\"day\":29},{\"class_name\":\"操作系统原理实验\",\"class_address\":\"南一楼803_1\",\"from\":9,\"times\":4,\"week\":4,\"color\":0,\"month\":12,\"day\":29}]},{\"year\":2016,\"month\":12,\"day\":31,\"week\":6,\"array\":[{\"class_name\":\"计算机组成原理实验\",\"class_address\":\"南一楼803_1\",\"from\":5,\"times\":4,\"week\":6,\"color\":9,\"month\":12,\"day\":31}]}]}]");
        editor.commit();
    }

    @Override
    public boolean onKeyDown(int code, KeyEvent event){
        if(code == KeyEvent.KEYCODE_BACK && event.getAction()==KeyEvent.ACTION_DOWN){
            if(backTwice())
                back();
            back();
            return true;
        }else{
            return super.onKeyDown(code,event);
        }
    }

    @Override
    public void onBackPressed(){
        if(backTwice())
            back();
        back();
        super.onBackPressed();
    }
}
